syntax = "proto3";

import "proc/proc.proto";

option go_package = "ulambda/schedd/proto";

service Schedd {
  rpc RegisterProcd(RegisterRequest) returns (RegisterResponse);
  rpc Spawn(SpawnRequest) returns (SpawnResponse);
  rpc GetProc(GetProcRequest) returns (GetProcResponse);
}

message RegisterRequest {
  string procdIp = 1;
}

message RegisterResponse {
}

message SpawnRequest {
  string realm = 1;
  ProcProto procProto = 2;
}

message SpawnResponse {
}

message GetProcRequest {
  uint32 freeCores = 1;  
  uint32 mem = 2;
}

message GetProcResponse {
  ProcProto procProto = 1;
  bool oK = 2;
}
